@model EarthMarket.Presentation.Models.ViewModels.HomePageCategoriesWithProductsListViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (Model.UserDto != null)
{
    <h2>Hi, @Model.UserDto.Name</h2>
}

    <div class="row">
        @foreach (var category in Model.HomePageCategoriesWithProducts)
        {

            <h3>@category.Name</h3>
            <div class=" row">


                @foreach (var product in category.Products)
                {
                    @*@Html.RouteLink(product.Name, new { Controller = "Product", Action = "GetProduct", productKey = product.Key })
            foreach (var productImagePath in product.ProductImages)
            {
                <img src="@Url.Content(productImagePath)" alt="Image" width="150px" height="150px" />

            }*@

                    @*<div class="card col-lg-5 ">
                <img class="card-img-top" src="@Url.Content(product.ProductImages.First())" alt="Product Image" width="200px" height="200px">
                <div class="card-body ">
                    <h5 class="card-title">@Html.RouteLink(product.Name, new { Controller = "Product", Action = "GetProduct", productKey = product.Key })</h5>

                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <div class="center">@Html.RouteLink("Product Details", new { Controller = "Product", Action = "GetProduct", productKey = product.Key }, new { @class = "btn btn-primary" })</div>
                </div>
            </div>*@
                    <div class="col-md-4">

                        <figure class="card card-product ">
                            <div class="img-wrap"><img class="card-img-top" src="@Url.Content(product.ProductImages.First())" alt="Product Image" width="100%"></div>
                            <figcaption class="info-wrap">
                                <h4 class="card-title">@Html.RouteLink(product.Name, new { Controller = "Product", Action = "GetProduct", productKey = product.Key })</h4>
                                <p class="desc">Some small description goes here</p>
                                @*<div class="rating-wrap">
            <div class="label-rating">132 reviews</div>
            <div class="label-rating">154 orders </div>
        </div>*@ <!-- rating-wrap.// -->
                            </figcaption>
                            <div class="bottom-wrap">
                                @Html.RouteLink("Product Details", new { Controller = "Product", Action = "GetProduct", productKey = product.Key }, new { @class = "btn btn-sm btn-primary float-right" })
                             
                                @*<div class="price-wrap h5">
            <span class="price-new">$1280</span> <del class="price-old">$1980</del>
        </div>*@ <!-- price-wrap.// -->
                            </div> <!-- bottom-wrap.// -->
                        </figure>

                    </div> <!-- col // -->



                }

            </div>
        }
    </div>

